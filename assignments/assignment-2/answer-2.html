<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <title>Answer 2 of Assignment 2</title>

        <style>
            canvas {
                height: 600px;
                width: 600px;
                border: 2px solid black;
            }

            div {
                position: fixed;
            }
        </style>

        <script>
            window.onload = init;

            // function to convert degress to radians
            const degreesToRadians = degrees => degrees * Math.PI / 180;

            function init() {
                let canvas = document.querySelector("canvas");
                let context = canvas.getContext("2d");
                canvas.addEventListener("click", floatingForm);
            }

            // function to create a floating form
            function floatingForm() {
                let form = document.createElement("form");

                let label = document.createElement("label");
                label.for = "text";
                label.innerHTML = "Length of side or radius ";

                let input = document.createElement("input");
                input.type = "text";

                let select = document.createElement("select");
                select.id = "shape";

                let optionOne = document.createElement("option");
                optionOne.value = "circle";

                let optionTwo = document.createElement("option");
                optionTwo.value = "square";

                optionOne.innerHTML = "circle";
                optionTwo.innerHTML = "square";

                select.appendChild(optionOne);
                select.appendChild(optionTwo);

                let inputButton = document.createElement("input");
                inputButton.type = "button";
                inputButton.id = "showtime";
                inputButton.value = "Preview";
                inputButton.addEventListener("click", runner);

                label.appendChild(input);

                form.appendChild(label);
                form.appendChild(input);
                form.appendChild(select);
                form.appendChild(inputButton);
                document.body.appendChild(form);
            }

            // draws a circle
            function circle(context, radius, event) {
                let foo = document.getElementById("text");
                radius = foo.value;
                context.beginPath();
                context.arc(event.clientX, event.clientY, radius, 0, degreesToRadians(360));
                context.fillStyle = "hotpink";
                context.fill();
                // TODO: add code here to append the circle to the document, maybe?
            }

            // draws a square
            function square(context, side, event) {
                let foo = document.getElementById("text");
                side = foo.value;
                let middle = side / 2; // so that the square will be drawn with its middle at the place of my cursor
                context.fillStyle = "RebeccaPurple";
                context.fillRect(event.clientX + middle, event.clientY + middle, side, side);
            }

            function runner() {
                let foo = document.getElementById("shape");
                if (foo.value === "circle")
                    circle;
                else
                    square;
            }

        </script>
    </head>
    <body>
        <h1>Drawing various objects on the canvas object</h1>
        <canvas>
            <p>Sorry, your browser does not support Canvas</p>
        </canvas>
    </body>
</html>